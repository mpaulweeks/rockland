{"version":3,"sources":["util/util.ts","util/db.ts","gallery/PhotoPreview.tsx","gallery/PhotoFocus.tsx","gallery/KeyboardListener.ts","util/url.ts","gallery/Gallery.tsx","navbar/Search.tsx","navbar/Sorter.tsx","navbar/SlideshowButton.tsx","navbar/Navbar.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getPrevInArray","elm","arr","matcher","matchingElm","filter","e","undefined","index","indexOf","length","getNextInArray","Database","data","photoSort","sorted","cb","concat","sort","a","b","compare","sortBy","this","photos","reverse","terms","orderBy","get","p","some","t","description","toLowerCase","includes","fetch","resp","json","PhotoPreview","props","hiRes","photo","image","className","style","backgroundImage","onClick","focusPhoto","date","PhotoFocus","onExit","evt","stopPropagation","onPrev","onNext","KEYBOARD","document","addEventListener","onKeyDown","URL","window","location","hash","split","pop","history","pushState","title","Gallery","hasReadHash","useRef","useState","focused","setFocused","slideshow","db","searchTerms","setSlideshow","records","search","updateFocused","useCallback","setUrl","useEffect","current","readUrl","match","console","log","timer","setTimeout","clearTimeout","setCallback","code","map","i","Search","searchRaw","setSearchRaw","placeholder","value","onChange","raw","target","setSearchTerms","trim","s","DefaultSortBy","label","added","SortOptions","Math","random","findIndex","opt","Sorter","newLabel","sorter","setSortBy","SlideshowButton","Navbar","App","setDb","load","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.615227c2.chunk.js","sourcesContent":["\ntype Comparable = string | number | Date;\n\nfunction compare<T extends Comparable>(a: T, b: T) {\n  if (a < b) { return -1; }\n  if (a > b) { return 1; }\n  return 0;\n}\n\nexport function sortBy<T, V extends Comparable>(arr: T[], cb: ((obj: T) => V)): T[] {\n  const sorted = arr.concat();\n  sorted.sort((a, b) => compare(cb(a), cb(b)));\n  return sorted;\n}\n\nexport function getPrevInArray<T>(elm: T, arr: T[], matcher?: (a: T, b: T) => boolean): T {\n  const matchingElm = matcher ? arr.filter(e => matcher(e, elm))[0] : undefined;\n  const index = arr.indexOf(matchingElm ?? elm);\n  const newIndex = (arr.length + index - 1) % arr.length;\n  return arr[newIndex];\n}\n\nexport function getNextInArray<T>(elm: T, arr: T[], matcher?: (a: T, b: T) => boolean): T {\n  const matchingElm = matcher ? arr.filter(e => matcher(e, elm))[0] : undefined;\n  const index = arr.indexOf(matchingElm ?? elm);\n  const newIndex = (arr.length + index + 1) % arr.length;\n  return arr[newIndex];\n}\n","import { Data, Photo, PhotoSort } from \"./types\";\nimport { sortBy } from \"./util\";\n\nexport class Database {\n  private constructor(\n    private readonly data: Data) { }\n\n  get(photoSort: PhotoSort): Photo[] {\n    const sorted = sortBy(this.data.photos, photoSort.sortBy);\n    return photoSort.reverse ? sorted.reverse() : sorted;\n  }\n\n  search(terms: string[], orderBy: PhotoSort) {\n    return this.get(orderBy).filter(p => terms.some(t =>\n      p.description.toLowerCase().includes(t.toLowerCase())\n    ));\n  }\n\n  static async load() {\n    const resp = await fetch('data.json');\n    const json = await resp.json() as Data;\n    return new Database(json);\n  }\n}\n","import React from \"react\";\nimport { Photo } from \"../util/types\";\nimport './PhotoPreview.css';\n\ninterface PhotoPreviewProps {\n  photo: Photo;\n  focusPhoto(photo: Photo): void;\n}\n\nexport function PhotoPreview(props: PhotoPreviewProps) {\n  const hiRes = `images/${props.photo.image}`;\n  return (\n    <div\n      className=\"PhotoPreview\"\n      style={{backgroundImage: `url(${hiRes})`}}\n      onClick={() => props.focusPhoto(props.photo)}\n    >\n      <div className=\"PhotoPreviewDate\">{props.photo.date}</div>\n    </div>\n  )\n}\n","import { Photo } from \"../util/types\";\nimport './PhotoFocus.css';\n\ninterface PhotoFocusProps {\n  photo: Photo;\n  onPrev(): void;\n  onNext(): void;\n  onExit(): void;\n}\n\nexport function PhotoFocus(props: PhotoFocusProps) {\n  const hiRes = `images/${props.photo.image}`;\n  return (\n    <div className=\"PhotoFocus\" onClick={props.onExit}>\n      <div\n        className=\"PhotoFocusImage\"\n        style={{ backgroundImage: `url(${hiRes})` }}\n      >\n        &nbsp;\n      </div>\n      <div className=\"PhotoFocusDescription\">{props.photo.description}</div>\n      <div className=\"PhotoPrev\" onClick={evt => { evt.stopPropagation(); props.onPrev(); }} />\n      <div className=\"PhotoNext\" onClick={evt => { evt.stopPropagation(); props.onNext(); }} />\n    </div>\n  )\n}\n","export type KeyboardCallback = (evt: KeyboardEvent) => void;\n\nclass _KeyboardListenerSingleton {\n  private cb: KeyboardCallback = () => { };\n\n  constructor() {\n    document.addEventListener('keydown', evt => this.onKeyDown(evt));\n  }\n  private onKeyDown(evt: KeyboardEvent) {\n    this.cb(evt);\n  }\n\n  setCallback(cb: KeyboardCallback) {\n    this.cb = cb;\n  }\n}\n\nexport const KEYBOARD = new _KeyboardListenerSingleton();\n","import { Photo } from \"./types\";\n\nclass UrlManager {\n  readUrl(): string | undefined {\n    return window.location.hash.split('#').pop();\n  }\n  setUrl(photo?: Photo): void {\n    // https://stackoverflow.com/a/14690177\n    const hash = `#${photo?.image ?? ''}`;\n    if (window.history.pushState) {\n      window.history.pushState(null, document.title, hash);\n    }\n    else {\n      window.location.hash = hash;\n    }\n  }\n}\n\nexport const URL = new UrlManager();\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Database } from \"../util/db\";\nimport { PhotoPreview } from \"./PhotoPreview\";\nimport { Photo, PhotoSort } from \"../util/types\";\nimport './Gallery.css';\nimport { PhotoFocus } from \"./PhotoFocus\";\nimport { getNextInArray, getPrevInArray } from \"../util/util\";\nimport { KEYBOARD } from \"./KeyboardListener\";\nimport { URL } from \"../util/url\";\n\ninterface GalleryProps {\n  db: Database;\n  slideshow: boolean;\n  setSlideshow(value: boolean): void;\n  searchTerms: string[];\n  sortBy: PhotoSort;\n}\n\nexport function Gallery(props: GalleryProps) {\n  const hasReadHash = useRef(false);\n  const [focused, setFocused] = useState<Photo>();\n\n  const { slideshow, db, searchTerms, sortBy, setSlideshow } = props;\n  const records = searchTerms.length\n    ? db.search(searchTerms, sortBy)\n    : db.get(sortBy);\n  const updateFocused = useCallback((photo: Photo | undefined) => {\n    setFocused(photo);\n    URL.setUrl(photo);\n    if (photo === undefined) {\n      setSlideshow(false);\n    }\n  }, [setSlideshow]);\n\n  // handle hash on first render\n  useEffect(() => {\n    // https://betterprogramming.pub/stop-lying-to-react-about-missing-dependencies-10612e9aeeda\n    if (hasReadHash.current) { return; }\n\n    const hash = URL.readUrl();\n    if (hash) {\n      const match = records.filter(p => p.image === hash)[0];\n      console.log('hash', hash, match);\n      updateFocused(match);\n    }\n\n    hasReadHash.current = true;\n  }, [records, updateFocused]);\n\n  // handle slideshow\n  useEffect(() => {\n    if (slideshow) {\n      if (focused) {\n        const timer = window.setTimeout(() => {\n          updateFocused(getNextInArray(focused, records));\n        }, 2000);\n        return () => window.clearTimeout(timer);\n      } else {\n        updateFocused(getNextInArray(focused, records));\n      }\n    }\n  }, [focused, records, slideshow, updateFocused]);\n\n  // helpers\n  KEYBOARD.setCallback(evt => {\n    if (evt.code === 'ArrowLeft') {\n      updateFocused(getPrevInArray(focused, records));\n    }\n    if (evt.code === 'ArrowRight') {\n      updateFocused(getNextInArray(focused, records));\n    }\n    if (evt.code === 'Escape') {\n      updateFocused(undefined);\n    }\n    if (evt.code === 'KeyS') {\n      updateFocused(records[0]);\n      props.setSlideshow(true);\n    }\n  });\n\n  // render\n  return (\n    <div className=\"GalleryContainer\">\n      {records.map((p, i) => (\n        <PhotoPreview\n          key={i}\n          photo={p}\n          focusPhoto={p => updateFocused(p)}\n        />\n      ))}\n      {focused && (\n        <PhotoFocus\n          photo={focused}\n          onPrev={() => updateFocused(getPrevInArray(focused, records))}\n          onNext={() => updateFocused(getNextInArray(focused, records))}\n          onExit={() => updateFocused(undefined)}\n        />\n      )}\n    </div>\n  )\n}\n","import React, { useState } from \"react\";\nimport './Search.css';\n\ninterface SearchProps {\n  setSearchTerms(terms: string[]): void;\n}\n\nexport function Search(props: SearchProps) {\n  const [searchRaw, setSearchRaw] = useState<string>('');\n\n  function parseSearchTerms(raw: string) {\n    setSearchRaw(raw);\n    props.setSearchTerms(raw.trim().split(' ').map(s => s.trim()).filter(s => !!s));\n  }\n\n  return (\n    <input\n      className=\"Search NavbarElm\"\n      placeholder=\"Type here to search\"\n      value={searchRaw}\n      onChange={evt => parseSearchTerms(evt.target.value)}\n    />\n  )\n}\n","import React from \"react\";\nimport { PhotoSort } from \"../util/types\";\nimport './Sorter.css';\n\ninterface SorterProps {\n  sortBy: PhotoSort;\n  setSortBy(sorter: PhotoSort): void;\n}\n\nexport const DefaultSortBy: PhotoSort = {\n  label: 'Recently Added',\n  sortBy: p => p.added,\n  reverse: true,\n};\nconst SortOptions: PhotoSort[] = [\n  DefaultSortBy, {\n    label: 'Date Ascending',\n    sortBy: p => p.date,\n    reverse: false,\n  }, {\n    label: 'Date Descending',\n    sortBy: p => p.date,\n    reverse: true,\n  }, {\n    label: 'Shuffle',\n    sortBy: p => Math.random(),\n    reverse: false,\n  },\n];\nfunction indexOf(label: string): number {\n  return SortOptions.findIndex(opt =>\n    opt.label === label\n  );\n}\n\nexport function Sorter(props: SorterProps) {\n  function onChange(newLabel: string) {\n    const index = indexOf(newLabel);\n    const sorter = SortOptions[index];\n    props.setSortBy(sorter);\n  }\n\n  const current = SortOptions[indexOf(props.sortBy.label)];\n\n  return (\n    <select className=\"Sorter NavbarElm\" onChange={evt => onChange(evt.target.value)} value={current.label}>\n      {SortOptions.map(opt => (\n        <option\n          key={opt.label}\n          label={opt.label}\n          value={opt.label}\n        />\n      ))}\n    </select>\n  )\n}\n","import React from \"react\";\nimport './SlideshowButton.css';\n\ninterface SlideshowButtonProps {\n  setSlideshow(value: boolean): void;\n}\n\nexport function SlideshowButton(props: SlideshowButtonProps) {\n  return (\n    <div className=\"SlideshowButton NavbarElm\">\n      <button onClick={() => props.setSlideshow(true)}>\n        Slideshow\n      </button>\n    </div>\n  )\n}\n","import React from 'react';\nimport './Navbar.css';\nimport { Search } from './Search';\nimport { Sorter } from './Sorter';\nimport { PhotoSort } from '../util/types';\nimport { SlideshowButton } from './SlideshowButton';\n\ninterface NavbarProps {\n  setSearchTerms(value: string[]): void;\n  setSlideshow(value: boolean): void;\n  sortBy: PhotoSort;\n  setSortBy(value: PhotoSort): void;\n}\n\nexport function Navbar(props: NavbarProps) {\n  return (\n    <header className=\"Navbar\">\n      <h1>\n        Rockland History ðŸ¦ž\n      </h1>\n      <SlideshowButton setSlideshow={props.setSlideshow} />\n      <Sorter sortBy={props.sortBy} setSortBy={props.setSortBy} />\n      <Search setSearchTerms={props.setSearchTerms} />\n    </header>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { Database } from './util/db';\nimport { Gallery } from './gallery';\nimport { DefaultSortBy, Navbar } from './navbar';\nimport { PhotoSort } from './util/types';\n\nexport function App() {\n  const [db, setDb] = useState<Database>();\n  const [searchTerms, setSearchTerms] = useState<string[]>([]);\n  const [slideshow, setSlideshow] = useState<boolean>(false);\n  const [sortBy, setSortBy] = useState<PhotoSort>(DefaultSortBy);\n\n  useEffect(() => {\n    (async () => {\n      const db = await Database.load();\n      setDb(db);\n    })();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Navbar\n        setSlideshow={setSlideshow}\n        setSearchTerms={setSearchTerms}\n        sortBy={sortBy}\n        setSortBy={setSortBy}\n      />\n      {db ? (\n        <Gallery\n          db={db}\n          slideshow={slideshow}\n          setSlideshow={setSlideshow}\n          searchTerms={searchTerms}\n          sortBy={sortBy}\n        />\n      ) : (\n        <div className='AppLoading'>loading...</div>\n      )}\n    </div>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}