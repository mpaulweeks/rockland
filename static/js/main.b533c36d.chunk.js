(this.webpackJsonprockland=this.webpackJsonprockland||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(8),a=n.n(o),i=(n(13),n(5)),s=n.n(i),u=n(6),l=n(2),d=(n(15),n(3)),f=n(4);function h(e,t,n){var r=n?t.filter((function(t){return n(t,e)}))[0]:void 0,c=t.indexOf(null!==r&&void 0!==r?r:e);return t[(t.length+c+1)%t.length]}var b=function(){function e(t){Object(d.a)(this,e),this.data=t}return Object(f.a)(e,[{key:"get",value:function(e){var t=function(e,t){var n=e.concat();return n.sort((function(e,n){return function(e,t){return e<t?-1:e>t?1:0}(t(e),t(n))})),n}(this.data.photos,e.sortBy);return e.reverse?t.reverse():t}},{key:"search",value:function(e,t){return this.get(t).filter((function(t){return e.some((function(e){return t.description.toLowerCase().includes(e.toLowerCase())}))}))}}],[{key:"load",value:function(){var t=Object(u.a)(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data.json");case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",new e(r));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e}(),j=(n(16),n(0));function v(e){var t="images/".concat(e.photo.image);return Object(j.jsx)("div",{className:"PhotoPreview",style:{backgroundImage:"url(".concat(t,")")},onClick:function(){return e.focusPhoto(e.photo)},children:Object(j.jsx)("div",{className:"PhotoPreviewDate",children:e.photo.date})})}n(18),n(19);function O(e){var t="images/".concat(e.photo.image);return Object(j.jsxs)("div",{className:"PhotoFocus",onClick:e.onExit,children:[Object(j.jsx)("div",{className:"PhotoFocusImage",style:{backgroundImage:"url(".concat(t,")")},children:"\xa0"}),Object(j.jsx)("div",{className:"PhotoFocusDescription",children:e.photo.description})]})}var p=new(function(){function e(){var t=this;Object(d.a)(this,e),this.cb=function(){},document.addEventListener("keydown",(function(e){return t.onKeyDown(e)}))}return Object(f.a)(e,[{key:"onKeyDown",value:function(e){this.cb(e)}},{key:"setCallback",value:function(e){this.cb=e}}]),e}()),m=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"readUrl",value:function(){return window.location.hash.split("#").pop()}},{key:"setUrl",value:function(e){var t,n="#".concat(null!==(t=null===e||void 0===e?void 0:e.image)&&void 0!==t?t:"");window.history.pushState?window.history.pushState(null,document.title,n):window.location.hash=n}}]),e}());function w(e){var t=Object(r.useRef)(!1),n=Object(r.useState)(),c=Object(l.a)(n,2),o=c[0],a=c[1],i=e.slideshow,s=e.db,u=e.searchTerms,d=e.sortBy,f=e.setSlideshow,b=u.length?s.search(u,d):s.get(d),w=Object(r.useCallback)((function(e){a(e),m.setUrl(e),void 0===e&&f(!1)}),[f]);return Object(r.useEffect)((function(){if(!t.current){var e=m.readUrl();if(e){var n=b.filter((function(t){return t.image===e}))[0];console.log("hash",e,n),w(n)}t.current=!0}}),[b,w]),Object(r.useEffect)((function(){if(i){if(o){var e=window.setTimeout((function(){w(h(o,b))}),2e3);return function(){return window.clearTimeout(e)}}w(h(o,b))}}),[o,b,i,w]),p.setCallback((function(t){"ArrowLeft"===t.code&&w(function(e,t,n){var r=n?t.filter((function(t){return n(t,e)}))[0]:void 0,c=t.indexOf(null!==r&&void 0!==r?r:e);return t[(t.length+c-1)%t.length]}(o,b)),"ArrowRight"===t.code&&w(h(o,b)),"Escape"===t.code&&w(void 0),"KeyS"===t.code&&(w(b[0]),e.setSlideshow(!0))})),Object(j.jsxs)("div",{className:"GalleryContainer",children:[b.map((function(e,t){return Object(j.jsx)(v,{photo:e,focusPhoto:function(e){return w(e)}},t)})),o&&Object(j.jsx)(O,{photo:o,onExit:function(){return w(void 0)}})]})}n(20),n(21);function g(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],o=n[1];return Object(j.jsx)("input",{className:"Search",placeholder:"Type here to search",value:c,onChange:function(t){return n=t.target.value,o(n),void e.setSearchTerms(n.trim().split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})));var n}})}n(22);var y={label:"Recently Added",sortBy:function(e){return e.added},reverse:!0},x=[y,{label:"Date Ascending",sortBy:function(e){return e.date},reverse:!1},{label:"Date Descending",sortBy:function(e){return e.date},reverse:!0},{label:"Shuffle",sortBy:function(e){return Math.random()},reverse:!1}];function S(e){return x.findIndex((function(t){return t.label===e}))}function k(e){var t=x[S(e.sortBy.label)];return Object(j.jsx)("select",{className:"Sorter",onChange:function(t){return function(t){var n=S(t),r=x[n];e.setSortBy(r)}(t.target.value)},value:t.label,children:x.map((function(e){return Object(j.jsx)("option",{label:e.label,value:e.label},e.label)}))})}n(23);function B(e){return Object(j.jsx)("button",{className:"SlideshowButton",onClick:function(){return e.setSlideshow(!0)},children:"Slideshow"})}function C(e){return Object(j.jsxs)("header",{className:"Navbar",children:[Object(j.jsx)("h1",{children:"Rockland Fan Site"}),Object(j.jsx)(B,{setSlideshow:e.setSlideshow}),Object(j.jsx)(k,{sortBy:e.sortBy,setSortBy:e.setSortBy}),Object(j.jsx)(g,{setSearchTerms:e.setSearchTerms})]})}function N(){var e=Object(r.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)([]),a=Object(l.a)(o,2),i=a[0],d=a[1],f=Object(r.useState)(!1),h=Object(l.a)(f,2),v=h[0],O=h[1],p=Object(r.useState)(y),m=Object(l.a)(p,2),g=m[0],x=m[1];return Object(r.useEffect)((function(){Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(C,{setSlideshow:O,setSearchTerms:d,sortBy:g,setSortBy:x}),n?Object(j.jsx)(w,{db:n,slideshow:v,setSlideshow:O,searchTerms:i,sortBy:g}):Object(j.jsx)("div",{className:"AppLoading",children:"loading..."})]})}var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),P()}],[[24,1,2]]]);
//# sourceMappingURL=main.b533c36d.chunk.js.map